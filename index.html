<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Resilience Navigator</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: #f9fafb;
      margin: 0;
      padding: 1rem;
      display: flex;
      justify-content: center;
    }
    .container {
      max-width: 1200px;
      width: 100%;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
    }
    .card {
      background: white;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.12);
      flex: 1 1 300px;
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      max-width: 350px;
    }
    h2 {
      color: #2c3e50;
      margin-bottom: 1rem;
      font-weight: 700;
    }
    label {
      margin-top: 0.75rem;
      margin-bottom: 0.25rem;
      font-weight: 600;
      color: #34495e;
    }
    select {
      width: 100%;
      padding: 0.5rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
      font-family: 'Montserrat', sans-serif;
    }
    .recommendation {
      margin-top: 1rem;
      background: #e8f1ff;
      border-left: 5px solid #2980b9;
      padding: 1rem;
      border-radius: 6px;
      font-size: 0.95rem;
      color: #1a3d7c;
      min-height: 60px;
    }
    button {
      margin-top: auto;
      padding: 1rem;
      border: none;
      border-radius: 8px;
      background-color: #2980b9;
      color: white;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #1a5276;
    }
    @media (max-width: 600px) {
      .container {
        flex-direction: column;
        align-items: center;
      }
      .card {
        max-width: 90vw;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" id="ExposureCard">
      <h2>Exposure</h2>
      <form id="ExposureForm"></form>
      <div class="recommendation" id="ExposureRec">Answer questions above and click Submit.</div>
    </div>
    <div class="card" id="SensitivityCard">
      <h2>Sensitivity</h2>
      <form id="SensitivityForm"></form>
      <div class="recommendation" id="SensitivityRec">Answer questions above and click Submit.</div>
    </div>
    <div class="card" id="CopingCard">
      <h2>Coping</h2>
      <form id="CopingForm"></form>
      <div class="recommendation" id="CopingRec">Answer questions above and click Submit.</div>
    </div>
  </div>
  <div style="text-align:center; width:100%; margin-top:1rem;">
    <button onclick="submitAll()">Submit Assessment</button>
  </div>

  <script>
    // Questions per dimension
    const questions = {
      Exposure: [
        "How often are you exposed to environments where substance use is prevalent (e.g., parties, bars, social gatherings)?",
        "Are there substances easily accessible in your community or social circles?",
        "Have you witnessed substance use among family members or close friends?",
        "Do your friends or peers encourage or pressure you to use substances?",
        "How often do you spend time with individuals who use substances?",
        "How frequently do you encounter advertisements or media content promoting substance use?",
        "Do you follow social media accounts or influencers who promote substance use?"
      ],
      Sensitivity: [
        "How often do you experience feelings of stress, anxiety, or depression?",
        "Do you find it difficult to manage your emotions without resorting to substances?",
        "Do you have a strong support system of family and friends who can help you cope with challenges?",
        "How often do you feel isolated or lonely?",
        "Have you experienced any traumatic events in your life that you feel impact your current emotional state?",
        "Do you find it challenging to cope with memories or feelings related to past trauma?"
      ],
      Coping: [
        "How often do you find it difficult to control your impulses or cravings for substances?",
        "Do you struggle with maintaining healthy habits and routines?",
        "Do you have any physical health issues that you feel contribute to your vulnerability to substance use?",
        "How often do you engage in activities that promote physical well-being (e.g., exercise, healthy eating)?",
        "How often do you practice mindfulness or other techniques to manage stress and improve mental clarity?",
        "Do you find it difficult to adapt to changes or challenges in your life?",
        "Do you feel that your living environment is organized and conducive to healthy living?",
        "How often do you feel overwhelmed by your daily responsibilities and tasks?"
      ]
    };

    // Generate select options
    const optionsHTML = `
      <option value="1">1 - Strongly Disagree</option>
      <option value="2">2 - Disagree</option>
      <option value="3">3 - Neutral</option>
      <option value="4">4 - Agree</option>
      <option value="5">5 - Strongly Agree</option>
    `;

    // Render questions in each card form
    Object.entries(questions).forEach(([category, qs]) => {
      const form = document.getElementById(`${category}Form`);
      qs.forEach((q, i) => {
        const id = `${category}_${i}`;
        const label = document.createElement('label');
        label.setAttribute('for', id);
        label.textContent = q;
        const select = document.createElement('select');
        select.id = id;
        select.name = id;
        select.innerHTML = optionsHTML;
        form.appendChild(label);
        form.appendChild(select);
      });
    });
<!-- Add an overall resilience summary card below dimension cards -->
<div class="card" id="OverallResilienceCard" style="max-width: 100%; margin-top: 2rem;">
  <h2>Overall Resilience Summary</h2>
  <div id="OverallInterpretation" class="recommendation">
    Complete the assessment above and click Submit to see your overall resilience interpretation.
  </div>
</div>

// Update getRecommendation for dimension scores (you can further customize per dimension later)
function getDimensionRecommendation(category, avg) {
  if (avg >= 4) {
    return `High vulnerability in ${category}. Personalized Recommendation: Continue strengthening your resilience by engaging in advanced strategies such as mentoring others, practicing mindfulness, and sustained self-care.`;
  } else if (avg >= 2.5) {
    return `Moderate risk in ${category}. Focus on skill-building like mindfulness, problem-solving, and gradually challenging yourself in this area.`;
  } else {
    return `Low resilience in ${category}. Start with self-awareness, basic coping strategies, emotional regulation, and seek support if needed.`;
  }
}

// Overall resilience interpretation based on total average score
function getOverallInterpretation(score) {
  if (score >= 4.0) {
    return `High: You possess a high level of personal resilience and are capable of managing various life challenges effectively. 
    Keep Challenging Yourself: Continue embracing difficult situations and seek opportunities to stretch your capabilities.
    Support Others: Use your resilience skills to guide and support others, mentoring can reinforce your resilience.
    Sustain Self-Care Practices: Maintain mindfulness, exercise, and balanced living to prevent burnout.
    Further Personal Growth: Explore advanced resilience techniques and higher-level development courses.`;
  } else if (score >= 3.0) {
    return `Moderate: Your resilience is at a moderate level with a solid foundation but some areas need attention.
    Focus on Skill-Building: Target specific resilience dimensions with problem-solving and emotional regulation.
    Regular Self-Assessment: Use journaling and feedback to track progress.
    Expand Support Systems: Strengthen your social networks and engage in community activities.
    Challenge Yourself Gradually: Take on new responsibilities and personal challenges at a comfortable pace.`;
  } else {
    return `Needs Development: Your resilience needs considerable improvement.
    Start with Self-Awareness: Reflect on stress triggers via journaling and mindfulness.
    Build Coping Strategies: Learn deep breathing, grounding, and create routines for physical and emotional care.
    Develop Emotional Regulation: Practice recognizing and managing emotions healthily.
    Set Boundaries and Self-Regulate: Manage exposure to stressors and negative environments.
    Seek Professional Support: Consider therapy or coaching for persistent challenges.`;
  }
}

// On submit, calculate dimension averages and overall average
function submitAll() {
  let totalSum = 0;
  let totalCount = 0;

  Object.entries(questions).forEach(([category, qs]) => {
    let sum = 0;
    qs.forEach((_, i) => {
      const val = parseInt(document.getElementById(`${category}_${i}`).value);
      sum += val;
      totalSum += val;
      totalCount++;
    });
    const avg = sum / qs.length;
    const rec = getDimensionRecommendation(category, avg);
    document.getElementById(`${category}Rec`).textContent = rec;
  });

  const overallAvg = totalSum / totalCount;
  const overallRec = getOverallInterpretation(overallAvg);
  document.getElementById('OverallInterpretation').textContent = overallRec;

  document.getElementById('ExposureCard').scrollIntoView({ behavior: 'smooth' });
}
</body>
</html>
